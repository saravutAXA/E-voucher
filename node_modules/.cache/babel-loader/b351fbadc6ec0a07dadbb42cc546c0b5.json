{"ast":null,"code":"import _classCallCheck from \"D:\\\\React_AXA\\\\test-theme\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\React_AXA\\\\test-theme\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\React_AXA\\\\test-theme\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\React_AXA\\\\test-theme\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\React_AXA\\\\test-theme\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"D:\\\\React_AXA\\\\test-theme\\\\src\\\\App.js\";\nimport React, { Component, Suspense } from 'react';\nimport { BrowserRouter } from 'react-router-dom';\nimport { Provider, connect } from 'react-redux';\nimport Loadable from 'react-loadable';\nimport { routes } from './routes'; // setup fake backend\n\nimport { configureFakeBackend } from './helpers';\nimport { isUserAuthenticated } from './helpers/authUtils'; // Themes\n\nimport './assets/scss/DefaultTheme.scss';\nimport configureStore from './redux/store';\nvar store = configureStore(); // You can also pass in an initialState here\n// Lazy loading and code splitting - \n// Derieved idea from https://blog.logrocket.com/lazy-loading-components-in-react-16-6-6cea535c0b52\n\nvar loading = function loading() {\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22\n    },\n    __self: this\n  });\n}; // All layouts/containers\n\n\nvar NonAuthLayout = Loadable({\n  loader: function loader() {\n    return import('./components/NonAuthLayout');\n  },\n  render: function render(loaded, props) {\n    var Component = loaded.default;\n    return React.createElement(Component, Object.assign({}, props, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29\n      },\n      __self: this\n    }));\n  },\n  loading: loading\n});\nvar AuthLayout = Loadable({\n  loader: function loader() {\n    return import('./components/AuthLayout');\n  },\n  render: function render(loaded, props) {\n    var Component = loaded.default;\n    return React.createElement(Component, Object.assign({}, props, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38\n      },\n      __self: this\n    }));\n  },\n  loading: loading\n}); // configure fake backend\n\nconfigureFakeBackend();\n/**\n * Exports the component with layout wrapped to it\n * @param {} WrappedComponent \n */\n\nvar withLayout = function withLayout(WrappedComponent) {\n  var HOC =\n  /*#__PURE__*/\n  function (_Component) {\n    _inherits(HOC, _Component);\n\n    function HOC() {\n      _classCallCheck(this, HOC);\n\n      return _possibleConstructorReturn(this, _getPrototypeOf(HOC).apply(this, arguments));\n    }\n\n    _createClass(HOC, [{\n      key: \"render\",\n      value: function render() {\n        return React.createElement(WrappedComponent, Object.assign({}, this.props, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 53\n          },\n          __self: this\n        }));\n      }\n    }]);\n\n    return HOC;\n  }(Component);\n\n  return connect()(HOC);\n};\n/**\n * Main app component\n */\n\n\nvar App =\n/*#__PURE__*/\nfunction (_Component2) {\n  _inherits(App, _Component2);\n\n  function App() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, App);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(App)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.getLayout = function () {\n      return isUserAuthenticated() ? AuthLayout : NonAuthLayout;\n    };\n\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return (// rendering the router with layout\n        React.createElement(Provider, {\n          store: store,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 77\n          },\n          __self: this\n        }, React.createElement(BrowserRouter, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 78\n          },\n          __self: this\n        }, React.createElement(React.Fragment, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 79\n          },\n          __self: this\n        }, routes.map(function (route, index) {\n          return React.createElement(route.route, {\n            key: index,\n            path: route.path,\n            exact: route.exact,\n            roles: route.roles,\n            component: withLayout(function (props) {\n              var Layout = _this2.getLayout();\n\n              return React.createElement(Suspense, {\n                fallback: loading(),\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 90\n                },\n                __self: this\n              }, React.createElement(Layout, Object.assign({}, props, {\n                title: route.title,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 91\n                },\n                __self: this\n              }), React.createElement(route.component, Object.assign({}, props, {\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 92\n                },\n                __self: this\n              }))));\n            }),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 82\n            },\n            __self: this\n          });\n        }))))\n      );\n    }\n  }]);\n\n  return App;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    isAuthenticated: state.Auth.isAuthenticated\n  };\n};\n\nexport default connect(mapStateToProps, null)(App);","map":{"version":3,"sources":["D:\\React_AXA\\test-theme\\src\\App.js"],"names":["React","Component","Suspense","BrowserRouter","Provider","connect","Loadable","routes","configureFakeBackend","isUserAuthenticated","configureStore","store","loading","NonAuthLayout","loader","render","loaded","props","default","AuthLayout","withLayout","WrappedComponent","HOC","App","getLayout","map","route","index","path","exact","roles","Layout","title","mapStateToProps","state","isAuthenticated","Auth"],"mappings":"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","sourcesContent":["import React, { Component, Suspense } from 'react';\nimport { BrowserRouter } from 'react-router-dom';\nimport { Provider, connect } from 'react-redux';\nimport Loadable from 'react-loadable';\n\nimport { routes } from './routes';\n\n// setup fake backend\nimport { configureFakeBackend } from './helpers';\nimport { isUserAuthenticated } from './helpers/authUtils';\n\n// Themes\nimport './assets/scss/DefaultTheme.scss';\n\nimport configureStore from './redux/store';\nconst store = configureStore(); // You can also pass in an initialState here\n\n\n\n// Lazy loading and code splitting - \n// Derieved idea from https://blog.logrocket.com/lazy-loading-components-in-react-16-6-6cea535c0b52\nconst loading = () => <div></div>\n\n// All layouts/containers\nconst NonAuthLayout = Loadable({\n  loader: () => import('./components/NonAuthLayout'),\n  render(loaded, props) {\n    let Component = loaded.default;\n    return <Component {...props} />;\n  },\n  loading\n});\n\nconst AuthLayout = Loadable({\n  loader: () => import('./components/AuthLayout'),\n  render(loaded, props) {\n    let Component = loaded.default;\n    return <Component {...props} />;\n  },\n  loading\n});\n\n// configure fake backend\nconfigureFakeBackend();\n\n/**\n * Exports the component with layout wrapped to it\n * @param {} WrappedComponent \n */\nconst withLayout = (WrappedComponent) => {\n  const HOC = class extends Component {\n    render() {\n      return <WrappedComponent {...this.props} />;\n    }\n  };\n\n  return connect()(HOC);\n}\n\n\n\n/**\n * Main app component\n */\nclass App extends Component {\n  /**\n * Returns the layout component based on different properties\n * @param {*} props \n */\n  getLayout = () => {\n    return isUserAuthenticated() ? AuthLayout : NonAuthLayout;\n  }\n\n  render() {\n    return (\n      // rendering the router with layout\n      <Provider  store={store}>\n        <BrowserRouter>\n          <React.Fragment>\n            {routes.map((route, index) => {\n              return (\n                <route.route\n                  key={index}\n                  path={route.path}\n                  exact={route.exact}\n                  roles={route.roles}\n                  component={withLayout(props => {\n                    const Layout = this.getLayout();\n                    return (\n                      <Suspense fallback={loading()}>\n                        <Layout {...props} title={route.title}>\n                          <route.component {...props} />\n                        </Layout>\n                      </Suspense>\n                    );\n                  })}\n                />\n              );\n            })}\n          </React.Fragment>\n        </BrowserRouter>\n      </Provider>\n    );\n  }\n}\n\n\nconst mapStateToProps = (state) => {\n  return {\n    isAuthenticated: state.Auth.isAuthenticated\n  }\n}\n\nexport default connect(mapStateToProps, null)(App);"]},"metadata":{},"sourceType":"module"}